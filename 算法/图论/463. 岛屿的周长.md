# 463. 岛屿的周长

https://leetcode.cn/problems/island-perimeter/

**<font color=red>简单的岛屿问题，DFS 遍历</font>**

## 题目描述

> 给定一个 `row x col` 的二维网格地图 `grid` ，其中：`grid[i][j] = 1` 表示陆地， `grid[i][j] = 0` 表示水域。
>
> 网格中的格子 **水平和垂直** 方向相连（对角线方向不相连）。整个网格被水完全包围，但其中恰好有一个岛屿（或者说，一个或多个表示陆地的格子相连组成的岛屿）。
>
> 岛屿中没有“湖”（“湖” 指水域在岛屿内部且不和岛屿周围的水相连）。格子是边长为 1 的正方形。网格为长方形，且宽度和高度均不超过 100 。计算这个岛屿的周长。
>
>  
>
> **示例 1：**
>
> ![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/10/12/island.png) 
>
> ```
> 输入：grid = [[0,1,0,0],[1,1,1,0],[0,1,0,0],[1,1,0,0]]
> 输出：16
> 解释：它的周长是上面图片中的 16 个黄色的边
> ```
>
> **示例 2：**
>
> ```
> 输入：grid = [[1]]
> 输出：4
> ```
>
> **示例 3：**
>
> ```
> 输入：grid = [[1,0]]
> 输出：4
> ```



## Core

- **简单的岛屿问题，DFS 遍历**

- 遍历每一个空格，遇到岛屿，计算其上下左右的情况，遇到水域或者出界的情况，就可以计算边了。

  <img src="https://code-thinking.cdn.bcebos.com/pics/463.%E5%B2%9B%E5%B1%BF%E7%9A%84%E5%91%A8%E9%95%BF.png" alt="img" style="zoom:67%;" /> 



## Code

O(rows * cols), O(rows * cols)

```swift
class Solution {
    func islandPerimeter(_ grid: [[Int]]) -> Int {
        var grid = grid
        let rows = grid.count
        let cols = grid[0].count
        var perimeter = 0

        // 定义四个方向的偏移量：上、下、左、右
        let directions = [(0, 1), (0, -1), (1, 0), (-1, 0)]
        // 使用深度优先搜索
        func dfs(_ row: Int, _ col: Int) {
            if row < 0 || row >= rows || col < 0 || col >= cols || grid[row][col] == 0 {
                perimeter += 1
                return 
            }
            // 已经访问过的陆地，不重复计算
            if grid[row][col] == -1 {
                return 
            }

            grid[row][col] = -1

            for (dx, dy) in directions {
                let newRow = row + dx
                let newCol = col + dy
                dfs(newRow, newCol)
            }
        }
        
        // 找到第一个陆地格子并开始DFS
        for i in 0 ..< rows {
            for j in 0 ..< cols {
                if grid[i][j] == 1 {
                    dfs(i, j)
                    // 因为只有一个岛屿，找到后就可以返回了
                    return perimeter
                }
            }
        }
        return perimeter
    }
}
```

