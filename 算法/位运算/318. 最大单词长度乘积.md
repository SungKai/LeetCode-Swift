# 318. 最大单词长度乘积

https://leetcode.cn/problems/maximum-product-of-word-lengths/

`medium`

**<font color=red>位运算来判断两个单词是否含有公共字母</font>**

## 题目描述

> 给你一个字符串数组 `words` ，找出并返回 `length(words[i]) * length(words[j])` 的最大值，并且这两个单词不含有公共字母。如果不存在这样的两个单词，返回 `0` 。
>
>  
>
> **示例 1：**
>
> ```
> 输入：words = ["abcw","baz","foo","bar","xtfn","abcdef"]
> 输出：16 
> 解释：这两个单词为 "abcw", "xtfn"。
> ```
>
> **示例 2：**
>
> ```
> 输入：words = ["a","ab","abc","d","cd","bcd","abcd"]
> 输出：4 
> 解释：这两个单词为 "ab", "cd"。
> ```
>
> **示例 3：**
>
> ```
> 输入：words = ["a","aa","aaa","aaaa"]
> 输出：0 
> 解释：不存在这样的两个单词。
> ```



## Core

- 使用**位运算来判断两个单词是否含有公共字母**。具体步骤如下：
  1. 将每个单词转换成一个整数，其中整数的每一位代表字母的存在或缺失。可以使用一个整数的二进制表示来表示字母的存在，例如，第0位表示字母'a'，第1位表示字母'b'，以此类推。如果一个字母存在，则将相应位设置为1，否则为0。
  2. 对于每一对单词i和j，计算它们的整数表示的按位与操作。如果结果为0，表示它们没有公共字母。
  3. 如果按位与的结果为0，计算这两个单词的长度的乘积，并与当前最大值比较，更新最大值。

## Code

O(n^2^), O(n)

```swift
class Solution {
    func maxProduct(_ words: [String]) -> Int {
        var maxProduct = 0
        var wordValues = [Int]()

        for word in words {
            var value = 0
            for char in word {
                let shift = char.asciiValue! - Character("a").asciiValue!
                value |= 1 << shift
            }
            wordValues.append(value)
        }

        for i in 0 ..< words.count {
            for j in (i + 1) ..< words.count {
                if wordValues[i] & wordValues[j] == 0 {
                    maxProduct = max(maxProduct, words[i].count * words[j].count)
                }
            }
        }
        return maxProduct
    }
}
```

